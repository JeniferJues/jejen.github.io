<!-- Portfolio Modals -->
{% for post in site.posts %}
<div class="portfolio-modal modal fade" id="portfolioModal-{{ post.modal-id }}" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="close-modal" data-dismiss="modal">
        <div class="lr">
          <div class="rl"></div>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2">
            <div class="modal-body">
              <h2>{{ post.title }}</h2>
              <hr class="star-primary">
              <div id="carousel-{{ post.modal-id }}" class="carousel slide" data-ride="carousel">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                  {% for photo in post.photos %}
                  <li data-target="#carousel-{{ post.modal-id }}" data-slide-to="{{ forloop.index0 }}" {% if forloop.first %}class="active"{% endif %}></li>
                  {% endfor %}
                </ol>

                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                  {% for photo in post.photos %}
                  <div class="item {% if forloop.first %}active{% endif %}">
                    <img src="img/portfolio/{{ photo.src }}" alt="{{ photo.alt }}">
                    <div class="carousel-caption">
                      <p>{{ photo.description }}</p>
                    </div>
                  </div>
                  {% endfor %}
                </div>

                <!-- Controls -->
                <a class="left carousel-control" href="#carousel-{{ post.modal-id }}" role="button" data-slide="prev">
                  <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#carousel-{{ post.modal-id }}" role="button" data-slide="next">
                  <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>

              {% if post.description %}
              <p>{{ post.description }}</p>
              {% endif %}

              <ul class="list-inline item-details">
                {% if post.domain %}
                <li>Domain:
                  <strong>{{ post.domain }}</strong>
                </li>
                {% endif %}
                {% if post.data-source %}
                <li>Data Source:
                  <strong>{{ post.data-source }}</strong>
                </li>
                {% endif %}
                {% if post.outcome %}
                <li>Outcome/Finding:
                  <strong>{{ post.outcome }}</strong>
                </li>
                {% endif %}
                {% if post.research-significance %}
                <li>Research Significance:
                  <strong>{{ post.research-significance }}</strong>
                </li>
                {% endif %}
                {% if post.url %}
                <li>Link:
                  <a href="{{ post.url }}" target="_blank">{{ post.url }}</a>
                </li>
                {% endif %}
              </ul>

              {% if post.tags %}
              <div class="tags">
                <strong>Tags:</strong>
                <ul class="list-inline">
                  {% for tag in post.tags %}
                  <li><span class="label label-default">{{ tag }}</span></li>
                  {% endfor %}
                </ul>
              </div>
              {% endif %}
              <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endfor %}

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!-- Bootstrap JS -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<!-- Custom script for carousel -->
<script>
$(document).ready(function(){
  // Activate the carousel for each portfolio modal
  $('.carousel').carousel();
});
</script>
